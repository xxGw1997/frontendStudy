<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>üç£Èò≤Êäñ</title>
</head>
<style>
  html,
  body {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    background: rgb(120, 134, 41);
  }

  .wrapper1 {
    width: 500px;
    height: 500px;
    position: absolute;
    left: 50%;
    right: 0;
    top: 0;
    bottom: 0;
    margin: auto;
    background: aquamarine;
  }

  .wrapper2 {
    width: 500px;
    height: 500px;
    position: absolute;
    left: 0;
    right: 50%;
    top: 0;
    bottom: 0;
    margin: auto;
    background: aquamarine;
  }

  input{
    width: 100%;
    height: 30px;
    margin: 100px 0;
  }
  #d1{
    width: 100%;
    height: 300px;
    background: khaki;
  }

  #d2{
    width: 100%;
    height: 300px;
    background: darkcyan;
  }
</style>

<body>
  <div class="wrapper1">
    <input id="input1" type="text">
    <div id="d1">Êú™Èò≤Êäñ</div>
  </div>
  <div class="wrapper2">
    <input id="input2" type="text">
    <div id="d2">Èò≤Êäñ</div>
  </div>
</body>
<script>
  let input1 = document.querySelector("#input1")
  let d1 = document.querySelector("#d1")
  let input2 = document.querySelector("#input2")
  let d2 = document.querySelector("#d2")
  input1.addEventListener('input', () => {
    d1.innerHTML = input1.value
  })

  input2.addEventListener('input', debounce(() => {
    d2.innerHTML = input2.value
  }, 1000, false))

  /**
   *  fn ÈúÄË¶ÅÈò≤ÊäñÁöÑÂáΩÊï∞
   *  delay  Èò≤ÊäñÊó∂Èó¥Èó¥Èöî
   *  ËØ¥Êòé:Èò≤ÊäñÁöÑ‰ΩúÁî®Â∞±ÊòØÂ∞Ü  Âú®‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÊâßË°åËøánÊ¨°ÁöÑÂáΩÊï∞ , Â§ÑÁêÜÊàê Âú®‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÂè™ÊâßË°å ÊúÄÂêé‰∏ÄÊ¨°Ëß¶Âèë ÂáΩÊï∞
   *  ÊØîÂ¶ÇÂú®ËøõË°åÊêúÁ¥¢ÂäüËÉΩÊó∂ÔºåÁî®Êà∑ÊÉ≥Ë¶ÅÊêúÁ¥¢ 'Ëã±ÈõÑËÅîÁõü',‰ΩÜÊòØÁõëÂê¨‰∫ã‰ª∂‰ºöËß¶ÂèëÂ§öÊ¨°,‰ΩøÁî®Èò≤ÊäñÂêé,Â∞±Âè™‰ºöÁõëÂê¨Áî®Êà∑ËæìÂÖ•ÂÆåÊàêÂêéÊìç‰Ωú„ÄÇ
   *  Áî®Êà∑ÊâìÂ≠óÈÄüÂ∫¶Â¶ÇÊûúËæÉÂø´ÔºåÈúÄË¶ÅÂ§ÑÁêÜÊéâÂ§ö‰ΩôÁöÑÁõëÂê¨Êìç‰Ωú,Âú®Áî®Êà∑Âú®‰∏ÄÊ¨°ÊÄßÊâìÂÆå‰∏ÄÊÆµÂ≠óÊàñËÄÖÂÆåÂÖ®ÊâìÂÆåÂêé‰ºö ÂÅúÈ°ø‰∏Ä‰ºöÊó∂Èó¥ÔºåËøô‰∏™Êó∂Èó¥Â∞±ÊòØdelayÂª∂ËøüÊó∂Èó¥Ôºå
   *  Â¶ÇÊûúÁî®Êà∑Âú®delayÊó∂Èó¥ÂÜÖÊ≤°ÊúâËß¶ÂèëËØ•Êìç‰ΩúÔºåÂàôÊâç‰ºöÁúüÊ≠£ÊâßË°åfn ÂáΩÊï∞
   * 
   *  Â§ßËá¥ÂÆûÁé∞ÊÄùË∑Ø:
   *  1„ÄÅÂÆö‰πâ‰∏Ä‰∏™ÂÆöÊó∂Âô®Áî®Êù•‰øùÂ≠òËÆ°Êó∂,Ëøô‰∏™ÂÆöÊó∂Âô®ÈúÄË¶ÅÂ§öÊ¨°Êìç‰ΩúÊó∂ÂÖ±Áî®ÊâÄ‰ª•ÈúÄË¶Å‰ΩøÁî®Èó≠ÂåÖ
   *  2„ÄÅÂ¶ÇÊûúÂú®delayÂÜÖÂÜçÊ¨°Ëß¶Âèë‰∫ã‰ª∂ÔºåÈÇ£‰πàÂΩìÂâçÁöÑËÆ°Êó∂ÂèñÊ∂àÔºåÈáçÊñ∞ÂºÄÂßãËÆ°Êó∂,Â¶ÇÊûúÂú®200msÂÜÖÂÜçÊ¨°Ëß¶ÂèëÊªöÂä®‰∫ã‰ª∂ÔºåÈÇ£‰πàÂΩìÂâçÁöÑËÆ°Êó∂ÂèñÊ∂àÔºåÈáçÊñ∞ÂºÄÂßãËÆ°Êó∂
   */
  function debounce(fn, delay, triggerNow) {
    let timer = null
    return function (...args) {
      //ÈùûÁ´ãÂç≥ÊâßË°åÁâàÊú¨,ÂøΩÁï•triggerNowÁöÑÂàÜÊîØÂ∞±Ë°å
      //Á¨¨‰∏ÄÊ¨°Ëß¶Âèë‰∫ã‰ª∂Êó∂,timer‰∏∫null,‰ºöËµ∞elseÂàÜÊîØ,ËøõÂÖ•elseÂàÜÊîØÂêé‰ºö‰ΩøÁî®ÂÆöÊó∂Âô®Âª∂ËøüdelayÊó∂Èó¥ÂÜçÂéªÊâßË°åfn,Ê≠§Êó∂timerÊòØÊúâÂÄºÁöÑ
      //Â¶ÇÊûúÂú®Á¨¨‰∏ÄÊ¨°ÂÆöÊó∂Âô®Êó∂Èó¥ÂÜÖfnËøòÊú™ÊâßË°å,Áî±‰∫éÈó≠ÂåÖ,‰∏ã‰∏ÄÊ¨°Ëß¶Âèë‰∫ã‰ª∂Êó∂,timer‰∏çÂÜçÊòØnull,ËÄåÊòØÁ¨¨‰∏ÄÊ¨°ËøõÂÖ•Êó∂timerÁöÑÂÄº,
      //ÊâÄ‰ª•‰ºöËµ∞ifÂàÜÊîØ,È¶ñÂÖà‰ºöÊääÁ¨¨‰∏ÄÊ¨°/‰∏ä‰∏ÄÊ¨°Ëß¶ÂèëÁöÑtimerÊ∏ÖÈô§Êéâ(ÊâÄ‰ª•‰∏ä‰∏ÄÊ¨°ÁöÑfn‰∫ã‰ª∂ËøòÊú™ÊâßË°åÂ∞±Ë¢´Âà†Èô§Êéâ‰∫Ü),
      //Âπ∂‰∏îÂ∞ÜÊú¨Ê¨°ÁöÑÂÆöÊó∂Âô®‰∫ã‰ª∂ÁöÑÂÄºÈáçÊñ∞ËµãÂÄºÁªôtimer
      //ÊØèÊ¨°ËøõÊù•ÈÉΩ‰ºöÊâßË°å‰ª•‰∏äÊ≠•È™§,Áõ¥Âà∞Âú®delayÊó∂Èó¥ÂÜÖÊ≤°ÊúâÂÜçÊ¨°Ëß¶Âèë‰∫ã‰ª∂,ÊâÄ‰ª•timer‰∏ç‰ºöË¢´Ê∏ÖÈô§,Ëá™ÁÑ∂ÁöÑÊâßË°åfnÊñπÊ≥ï

      //Á´ãÂç≥ÊâßË°åÁâàÊú¨,Âè™ÈúÄË¶ÅËµ∞Á¨¨‰∏Ä‰∏™triggerNowÁöÑifÂàÜÊîØÂ∞±Ë°å
      //Á¨¨‰∏ÄÊ¨°Ëß¶Âèë‰∫ã‰ª∂Êó∂,timer‰∏∫Á©∫,ÊâÄ‰ª•Á¨¨‰∏Ä‰∏™if‰∏ç‰ºöËµ∞,Â¶ÇÊûúÊòØÁ´ãÂç≥ÊâßË°åÂàôÂ∞±ËøõÂÖ•Á¨¨‰∫å‰∏™ifÂàÜÊîØ
      //ËøõÂÖ•Á¨¨‰∫å‰∏™ifÂàÜÊîØÂêé,È¶ñÂÖàÂÆö‰πâ‰∏Ä‰∏™Ê†áËØÜflag,Âπ∂‰∏îÁ¨¨‰∏ÄÊ¨°ËøõÊù•Êó∂flag‰∏∫true,ÂÜçÂÆö‰πâ‰∏Ä‰∏™ÂÆöÊó∂Âô®,Âú®delayÊó∂Èó¥Âêétimer‰∏∫Á©∫
      //Á¨¨‰∏ÄÊ¨°flag‰∏∫true ÊâÄ‰ª•ÂÖà‰ºöÊâßË°å‰∏ÄÊ¨°Áî®Êà∑ÁªëÂÆöÁöÑÊìç‰Ωú
      //Â¶ÇÊûúÁî®Êà∑Âú®delayÊó∂Èó¥ÂÜÖÂÜçÊ¨°Ëß¶Âèë‰∫ã‰ª∂,Ê≠§Êó∂timerÊúâÂÄº,‰ºöËøõÂÖ•Á¨¨‰∏Ä‰∏™flag,Â∞Ü‰∏ä‰∏ÄÊ¨°ÁöÑÂÆöÊó∂Âô®ÂèñÊ∂à
      //ËôΩÁÑ∂timerÁöÑ‰∫ã‰ª∂Ë¢´ÂèñÊ∂à‰∫Ü,‰ΩÜÊòØtimer‰æùÊóßÊòØÊúâÂÄºÁöÑ,Âè™ÊòØËøô‰∏™ÂÄºÊåáÂêëÁöÑÂÆöÊó∂Âô®‰∫ã‰ª∂Ë¢´ÂèñÊ∂à‰∫ÜËÄåÂ∑≤,
      //ÊâÄ‰ª•Á¨¨‰∫åÊ¨°ËøõÂÖ•triggerNowÂàÜÊîØÊó∂,flag‰∏∫false,ÁÑ∂ÂêéÈáçÊñ∞ÁªôtimerÂÆö‰πâ‰∏Ä‰∏™ÂÆöÊó∂Âô®‰∫ã‰ª∂,Âú®delayÂêétimerÊâç‰∏∫null,Âè™ÊúâÂú®delayÂêéÊâç‰ºöÁªßÁª≠ÊâßË°åfnÊñπÊ≥ï
      if (timer) {
        clearTimeout(timer)
      }
      if (triggerNow) {
        let flag = !timer
        timer = setTimeout(() => {
          timer = null
        }, delay)
        if (flag) fn.apply(this, args)
      } else {
        timer = setTimeout(() => {
          fn.apply(this, args)
        }, delay)
      }

    }
  }


</script>

</html>